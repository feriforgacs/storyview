const ffStoryviewGap=40;let ffStoryviewCurrentStory=1;const ffStoryviewBody=document.querySelector("body"),ffStoryviewDisplayButton=document.querySelector("#ff_storyview_button"),ffStoryviewCloseButton=document.querySelector("#ff_storyview_close_button");function toggleStoryview(){ffStoryviewBody.classList.contains("ff_storyview_visible")?ffStoryviewBody.classList.remove("ff_storyview_visible"):ffStoryviewBody.classList.add("ff_storyview_visible"),setSizes()}ffStoryviewDisplayButton.addEventListener("click",toggleStoryview),ffStoryviewCloseButton.addEventListener("click",toggleStoryview);const ffStoryviewBlocks=document.querySelector("#ff_storyview_blocks");ffStoryviewBlocks.addEventListener("click",stepStoryview);const ffStoryviewBlocksContainer=document.querySelector("#ff_storyview_blocks_items_container"),ffStoryviewBlockItems=document.querySelectorAll(".ff_storyview_block_item_content"),ffStoryviewBlockItemsCount=ffStoryviewBlockItems.length;let ffStoryviewBlockWidth=window.innerWidth<420?window.innerWidth:420,ffStoryviewBlockHeight=window.innerHeight<746?window.innerHeight:746;function setSizes(){ffStoryviewBlockWidth=window.innerWidth<420?window.innerWidth:420,ffStoryviewBlockHeight=window.innerHeight<746?window.innerHeight:746;let width=ffStoryviewBlockWidth*ffStoryviewBlockItemsCount;ffStoryviewBlocksContainer.style.width=width+"px",ffStoryviewBlocksContainer.style.transform="translateX(0px)",ffStoryviewBlockItems.forEach(ffStoryviewBlockItem=>{ffStoryviewBlockItem.style.width=ffStoryviewBlockWidth+"px";let blockHeight=ffStoryviewBlockHeight-ffStoryviewGap;ffStoryviewBlockItem.style.height=blockHeight+"px"})}function stepStoryview(event){let ffStoryviewBlocksPosition=ffStoryviewBlocks.getBoundingClientRect(),ffStoryviewBlocksLeftMax=ffStoryviewBlocksPosition.left+ffStoryviewBlocksPosition.width/2;if(event.clientX>ffStoryviewBlocksLeftMax){if(ffStoryviewCurrentStory<ffStoryviewBlockItemsCount){let left=ffStoryviewCurrentStory*ffStoryviewBlockWidth;ffStoryviewBlocksContainer.style.transform="translateX(-"+left+"px)",ffStoryviewCurrentStory++}updateIndicator("next")}else{if(ffStoryviewCurrentStory>1){let left=--ffStoryviewCurrentStory*ffStoryviewBlockWidth-ffStoryviewBlockWidth;ffStoryviewBlocksContainer.style.transform="translateX(-"+left+"px)"}updateIndicator("previous")}}function updateIndicator(direction){if("next"==direction){let previousStoryIndicator=ffStoryviewCurrentStory-1;document.querySelector("#ff_storyview_block_indicator_item_"+previousStoryIndicator).classList.remove("activ"),document.querySelector("#ff_storyview_block_indicator_item_"+ffStoryviewCurrentStory).classList.add("activ")}else if("previous"==direction){let nextStoryIndicator=ffStoryviewCurrentStory+1;document.querySelector("#ff_storyview_block_indicator_item_"+nextStoryIndicator).classList.remove("activ"),document.querySelector("#ff_storyview_block_indicator_item_"+ffStoryviewCurrentStory).classList.add("activ")}}setSizes(),window.addEventListener("resize",setSizes),toggleStoryview();